<!--<!DOCTYPE html>-->
<html>
    <head>
        <title></title>
        <!--<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">-->
    </head>
    <body>
        <div>
            <h4>Data:</h4>
            <pre>
    $vehicles = array(
        array( 'id' => 1,   'name' => 'fiesta',     'brand' => 'ford'),
        array( 'id' => 2,   'name' => 'focus',      'brand' => 'ford'),
        array( 'id' => 3,   'name' => 'serie 3',    'brand' => 'bmw'),
        array( 'id' => 4,   'name' => 'serie 5',    'brand' => 'bmw'),
        array( 'id' => 5,   'name' => '500',        'brand' => 'fiat'),
        array( 'id' => 6,   'name' => 'punto',      'brand' => 'fiat'),
        array( 'id' => 7,   'name' => 'golf',       'brand' => 'vw'),
        array( 'id' => 8,   'name' => 'passat',     'brand' => 'vw'),
        array( 'id' => 9,   'name' => 'polo',       'brand' => 'vw'),
        array( 'id' => 10,  'name' => 'yaris',      'brand' => 'toyota'),
        array( 'id' => 11,  'name' => 'corolla',    'brand' => 'toyota'),
        array( 'id' => 12,  'name' => 'corsa',      'brand' => 'opel'),
        array( 'id' => 13,  'name' => 'astra',      'brand' => 'opel'),
        array( 'id' => 14,  'name' => 'clio',       'brand' => 'renault'),
        array( 'id' => 15,  'name' => 'megane',     'brand' => 'renault'),
        array( 'id' => 16,  'name' => '207',        'brand' => 'peugeot'),
        array( 'id' => 17,  'name' => 'Qashqai',    'brand' => 'nissan'),
        array( 'id' => 18,  'name' => 'Panda',      'brand' => 'fiat'),
        array( 'id' => 19,  'name' => 'Octavia',    'brand' => 'skoda'),
        array( 'id' => 20,  'name' => 'C3',         'brand' => 'citroen'),
        array( 'id' => 21,  'name' => 'C Class',    'brand' => 'mercedes'),
        array( 'id' => 22,  'name' => 'Fabia',      'brand' => 'skoda'),
        array( 'id' => 23,  'name' => 'A1',         'brand' => 'audi'),
        array( 'id' => 24,  'name' => 'Giulietta',  'brand' => 'alfa romeo'),
        array( 'id' => 25,  'name' => 'mini',       'brand' => 'mini'),
        array( 'id' => 26,  'name' => 'DS 5',       'brand' => 'citroen'),
    );
            </pre>
        </div>
        <div>
            <h4>populate $brands array</h4>
            <pre>
    $brands = array();
    foreach ( $vehicles as $vehicle )
    {
        if( !array_key_exists( $vehicle['brand'], $brands ) )
        {
            $brands[$vehicle['brand']] = array( $vehicle['name'] );

        }
        else
        {
            if( !in_array( $vehicle['name'], $vehicle['brand']) )
            {
                array_push( $brands[$vehicle['brand']], $vehicle['name'] );
            }
        }
    }
            </pre>
        </div>
        <div>
            <h4>add 'range' key and populate new array from $vehicles array</h4>
            <pre>
    $result = array();
    foreach( $vehicles as $vehicle )
    {
        $row = array();
        foreach ( $vehicle as $key => $value )
        {
            $row[$key] = $value;
        }
        if( array_key_exists( $vehicle['brand'], $brands ) )
        {
            $row['range'] = $brands[ $vehicle['brand'] ];

        }
        $result[] = $row;
    }
            </pre>
        </div>
        <div>
            <h4>diplay all values from $result array</h4>
            <pre>
    foreach ( $result as $vehicle )
    {
        echo 'Id: ' . $vehicle['id'];
        echo 'Name: ' . $vehicle['name'];
        echo 'Brand: ' . $vehicle['brand'];
        echo 'Range: ';
        foreach( $vehicle['range'] as $value )
        {
            echo $value . ', ';
        }
    }
            </pre>
        </div>
    </body>
</html>

<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<!--
    HTML5 Reset: https://github.com/murtaugh/HTML5-Reset
    Free to use
-->

<!--[if lt IE 7 ]> <html class="ie ie6 ie-lt10 ie-lt9 ie-lt8 ie-lt7 no-js" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 ie-lt10 ie-lt9 ie-lt8 no-js" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 ie-lt10 ie-lt9 no-js" lang="en"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 ie-lt10 no-js" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="en"><!--<![endif]-->
    <!-- the "no-js" class is for Modernizr. -->
    <html>
        <head>
            <title>testing_ground</title>

            <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
            <meta name="author" content="thoroc">
            <meta name="description" content="">

            <!-- Don't forget to set your site up: http://google.com/webmasters -->
            <meta name="google-site-verification" content="" />

            <!-- Who owns the content of this site? -->
            <meta name="Copyright" content="" />

            <!--  Mobile Viewport
            http://j.mp/mobileviewport & http://davidbcalhoun.com/2010/viewport-metatag
            device-width : Occupy full width of the screen in its current orientation
            initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
            maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width (wrong for most sites)
            -->
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="shortcut icon" href="icon/favicon.ico">

            <!-- concatenate and minify for production -->
            <link rel="stylesheet" href="../../../assets/css/reset.css" />
            <link rel="stylesheet" href="../../../assets/css/style.css" />

            <!-- Lea Verou's Prefix Free, lets you use un-prefixed properties in your CSS files -->
            <script src="../../../assets/js/libs/prefixfree.min.js"></script>

            <!-- This is an un-minified, complete version of Modernizr.
                 Before you move to production, you should generate a custom build that only has the detects you need. -->
            <script src="../../../assets/js/libs/modernizr-2.7.1.dev.js"></script>

            <link rel="stylesheet" href="css/main.css" type="text/css">
            <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        </head>
        <body>
            <div class="body">
                <span id="ruler"></span>
                <div class="container" id="container-1">
                    <div class="label">Article Header 1</div>
                    <p data-lorem="2p"></p>
                    <p data-lorem="2p"></p>
                </div>
                <div class="container" id="container-2">
                    <div class="label">Article Header 2</div>
                    <p data-lorem="2p"></p>
                    <p data-lorem="2p"></p>
                </div>
            </div>

            <!-- Grab Google CDN's jQuery. fall back to local if necessary -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
            <script>window.jQuery || document.write( "<script src='../assetsjs/libs/jquery-1.11.0.min.js'>\x3C/script>" )</script>

            <!-- this is where we put our custom functions -->
            <!-- don't forget to concatenate and minify if needed -->
            <script src="../../../assets/js/functions.js"></script>
            <script src="../../../assets/js/lorem.min.js"></script>

            <script>
                $( function() {
                    var posW = 0;
                    var posH = 0;

                    $.each( $( '.label' ), function() {

//                        var h = $( this ).outerHeight();
                        var w = $( this ).outerWidth();
                        var text = ' >>';

                        $( '<div/>', {
                            text: ' >>',
                            class: 'settings',
                            css: {
                                position: 'absolute',
                                top: $( this ).position().top,
                                left: $( this ).position().left,
                                width: $( this ).outerWidth( true ) + text.length,
                                'text-align': 'right'
                            },
                        }).insertBefore( this );


//                        console.log( text );
//                        console.log( $( text ) );
//                        console.log( $( text ).text() );
//                        console.log( $( text ).text );
//                        console.log( $( this ).textWidth(), $( text ).textWidth() );
                        var s = "Some text";
                        var len = s.visualLength();


                        console.log( len );
                    });


                });

//                $.fn.textWidth = function() {
//                    var e = $( this );
//                    var str = '';
//                    if( e === typeof string ) {
//                        str = e;
//                    } else {
//                        str = e.text();
//                    }
//
////                    console.log( str );
////                    var original = e.html();
//                    var node = $( '<span/>', {
//                        'position': 'absolute',
//                        'width': 'auto',
//                        'left': '-9999px',
//                        'font-family': e.css( 'font-family' ),
//                        'font-size': e.css( 'font-size' ),
//                        'text': str,
////                        'html': original
//                    }).appendTo( 'body' );
//                    var width = node.width();
//                    node.remove();
//
//                    return width;
//                };


//                function $(id)
//                {
//                    return document.getElementById(id);
//                }

                String.prototype.visualLength = function()
                {
                    var ruler = $("#ruler");
                    ruler.innerHTML = this;
                    return ruler.offsetWidth;
                }

                String.prototype.trimToPx = function(length)
                {
                    var tmp = this;
                    var trimmed = this;
                    if (tmp.visualLength() > length)
                    {
                        trimmed += "...";
                        while (trimmed.visualLength() > length)
                        {
                            tmp = tmp.substring(0, tmp.length-1);
                            trimmed = tmp + "...";
                        }
                    }

                    return trimmed;
                }
            </script>

        </body>
    </html>
